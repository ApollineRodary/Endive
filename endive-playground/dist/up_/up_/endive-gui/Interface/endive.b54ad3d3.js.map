{"mappings":"AAAA,SAAS,SAAS,OAAO;IACvB,iCAAiC;IACjC,MAAM,OAAO,IAAI,KAAK;QAAC;KAAQ,EAAE;QAAE,MAAM;IAAa;IAEtD,qCAAqC;IACrC,MAAM,MAAM,IAAI,eAAe,CAAC;IAEhC,mDAAmD;IACnD,MAAM,IAAI,SAAS,aAAa,CAAC;IACjC,EAAE,IAAI,GAAG;IACT,EAAE,QAAQ,GAAG;IAEb,oDAAoD;IACpD,EAAE,KAAK;IAEP,qBAAqB;IACrB,IAAI,eAAe,CAAC;AACtB;AACA,SAAS;IACP,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,QAAQ,SAAS,aAAa,CAAC;QACrC,MAAM,IAAI,GAAG;QAEb,MAAM,gBAAgB,CAAC,UAAU,CAAC;YAChC,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,CAAC,EAAE;YAClC,IAAI,CAAC,MAAM;gBACT,OAAO,IAAI,MAAM;gBACjB;YACF;YAEA,MAAM,SAAS,IAAI;YAEnB,OAAO,MAAM,GAAG,CAAC;gBACf,MAAM,UAAU,EAAE,MAAM,CAAC,MAAM;gBAC/B,QAAQ;YACV;YAEA,OAAO,OAAO,GAAG,CAAC;gBAChB,OAAO;YACT;YAEA,OAAO,UAAU,CAAC;QACpB;QAEA,MAAM,KAAK;IACb;AACF;AAEA,SAAS;IACP,SAAS,WAAW,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ;AAC/C;AACA,SAAS;IACP,WACG,IAAI,CAAC,CAAC;QACL,MAAM,cAAc,WAAW,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC;YACjD,SAAS;gBACP,MAAM;gBACN,IAAI,WAAW,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM;gBACtC,QAAQ;YACV;QACF;QACA,MAAM,SAAS,WAAW,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC;QAC9C,WAAW,MAAM,CAAC,MAAM,CAAC;YAAC;SAAO;QACjC,IAAI,WAAW,SAAS,EACtB;IAEJ,GACC,KAAK,CAAC,CAAC;QACN,QAAQ,KAAK,CAAC,UAAU;IAC1B;AACJ","sources":["../endive-gui/Interface/assets/scripts/files.js"],"sourcesContent":["function saveFile(content) {\n  // Create a Blob with the content\n  const blob = new Blob([content], { type: \"text/plain\" });\n\n  // Create a temporary URL to the Blob\n  const url = URL.createObjectURL(blob);\n\n  // Create an anchor element to trigger the download\n  const a = document.createElement(\"a\");\n  a.href = url;\n  a.download = \"session.end\";\n\n  // Trigger a click event to open the download dialog\n  a.click();\n\n  // Clean up resources\n  URL.revokeObjectURL(url);\n}\nfunction loadFile() {\n  return new Promise((resolve, reject) => {\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n\n    input.addEventListener(\"change\", (event) => {\n      const file = event.target.files[0];\n      if (!file) {\n        reject(new Error(\"No file selected\"));\n        return;\n      }\n\n      const reader = new FileReader();\n\n      reader.onload = (e) => {\n        const content = e.target.result;\n        resolve(content);\n      };\n\n      reader.onerror = (error) => {\n        reject(error);\n      };\n\n      reader.readAsText(file);\n    });\n\n    input.click();\n  });\n}\n\nfunction save() {\n  saveFile(globalThis.editor.state.doc.toString());\n}\nfunction load() {\n  loadFile()\n    .then((content) => {\n      const transaction = globalThis.editor.state.update({\n        changes: {\n          from: 0,\n          to: globalThis.editor.state.doc.length,\n          insert: content,\n        },\n      });\n      const update = globalThis.editor.state.update(transaction);\n      globalThis.editor.update([update]);\n      if (globalThis.menu_open) {\n        toggleMenu();\n      }\n    })\n    .catch((error) => {\n      console.error(\"Error:\", error);\n    });\n}\n"],"names":[],"version":3,"file":"endive.b54ad3d3.js.map","sourceRoot":"/__parcel_source_root/"}